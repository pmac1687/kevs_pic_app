{"version":3,"sources":["webpack://gatsby-starter-hello-world/./src/components/privateRoute.js","webpack://gatsby-starter-hello-world/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://gatsby-starter-hello-world/./src/components/profile.js","webpack://gatsby-starter-hello-world/./src/components/login.js","webpack://gatsby-starter-hello-world/./src/pages/app.js"],"names":["Component","component","location","rest","source","excluded","key","i","target","sourceKeys","Object","keys","length","indexOf","isLoggedIn","pathname","navigate","getUser","name","email","state","username","password","handleUpdate","event","setState","value","handleSubmit","preventDefault","console","log","handleLogin","render","method","onSubmit","type","onChange","this","React","Router","path","Profile"],"mappings":"+QAUA,EAPqB,SAAC,GAAiD,IAApCA,EAAmC,EAA9CC,UAAsBC,EAAwB,EAAxBA,SAAaC,ECH5C,SAAuCC,EAAQC,GAC5D,GAAc,MAAVD,EAAgB,MAAO,GAC3B,IAEIE,EAAKC,EAFLC,EAAS,GACTC,EAAaC,OAAOC,KAAKP,GAG7B,IAAKG,EAAI,EAAGA,EAAIE,EAAWG,OAAQL,IACjCD,EAAMG,EAAWF,GACbF,EAASQ,QAAQP,IAAQ,IAC7BE,EAAOF,GAAOF,EAAOE,IAGvB,OAAOE,EDT6D,MACpE,OAAKM,WAAgB,eAAAZ,EAASa,SAIvB,gBAACf,EAAcG,KAHpBa,QAAS,cACF,OEKX,EATgB,kBACd,gCACE,0CACA,0BACE,oCAAWC,UAAUC,MACrB,sCAAaD,UAAUE,U,UC2C7B,E,oJA9CEC,MAAQ,CACNC,SAAS,GACTC,SAAS,I,EAEXC,aAAe,SAAAC,GAAU,IAAD,EACtB,EAAKC,WAAL,MACGD,EAAMhB,OAAOU,MAAOM,EAAMhB,OAAOkB,MADpC,K,EAIFC,aAAe,SAAAH,GACbA,EAAMI,iBACNC,QAAQC,IAAI,EAAKV,QACjBW,QAAY,EAAKX,Q,iCAEnBY,OAAA,WAAU,IAAD,OAIP,OAHIlB,YACFE,QAAS,gBAGT,gCACE,oCACA,wBACEiB,OAAO,OACPC,SAAU,SAAAV,GACR,EAAKG,aAAaH,IAClBR,QAAS,kBAGX,wCAEE,yBAAOmB,KAAK,OAAOjB,KAAK,WAAWkB,SAAUC,KAAKd,gBAEpD,wCAEE,yBACEY,KAAK,WACLjB,KAAK,WACLkB,SAAUC,KAAKd,gBAGnB,yBAAOY,KAAK,SAAST,MAAM,c,GAzCjBY,aCWpB,EARY,kBACV,gBAAC,IAAD,KACE,gBAAC,EAAAC,OAAD,KACE,gBAAC,EAAD,CAAcC,KAAK,eAAevC,UAAWwC,IAC7C,gBAAC,EAAD,CAAOD,KAAK","file":"component---src-pages-app-js-63451f3f9bbec45e2ec4.js","sourcesContent":["import React from \"react\"\nimport { navigate } from \"gatsby\"\nimport { isLoggedIn } from \"../services/auth\"\nconst PrivateRoute = ({ component: Component, location, ...rest }) => {\n  if (!isLoggedIn() && location.pathname !== `/app/login`) {\n    navigate(\"/app/login\")\n    return null\n  }\n  return <Component {...rest} />\n}\nexport default PrivateRoute","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import React from \"react\"\nimport { getUser } from \"../services/auth\"\nconst Profile = () => (\n  <>\n    <h1>Your profile</h1>\n    <ul>\n      <li>Name: {getUser().name}</li>\n      <li>E-mail: {getUser().email}</li>\n    </ul>\n  </>\n)\nexport default Profile","import React from \"react\"\nimport { navigate } from \"gatsby\"\nimport { handleLogin, isLoggedIn } from \"../services/auth\"\nclass Login extends React.Component {\n  state = {\n    username: ``,\n    password: ``,\n  }\n  handleUpdate = event => {\n    this.setState({\n      [event.target.name]: event.target.value,\n    })\n  }\n  handleSubmit = event => {\n    event.preventDefault()\n    console.log(this.state)\n    handleLogin(this.state)\n  }\n  render() {\n    if (isLoggedIn()) {\n      navigate(`/app/profile`)\n    }\n    return (\n      <>\n        <h1>Log in</h1>\n        <form\n          method=\"post\"\n          onSubmit={event => {\n            this.handleSubmit(event)\n            navigate(`/app/profile`)\n          }}\n        >\n          <label>\n            Username\n            <input type=\"text\" name=\"username\" onChange={this.handleUpdate} />\n          </label>\n          <label>\n            Password\n            <input\n              type=\"password\"\n              name=\"password\"\n              onChange={this.handleUpdate}\n            />\n          </label>\n          <input type=\"submit\" value=\"Log In\" />\n        </form>\n      </>\n    )\n  }\n}\nexport default Login","import React from \"react\"\nimport { Router } from \"@reach/router\"\nimport Layout from \"../components/layout\"\nimport PrivateRoute from \"../components/privateRoute\"\nimport Profile from \"../components/profile\"\nimport Login from \"../components/login\"\nconst App = () => (\n  <Layout>\n    <Router>\n      <PrivateRoute path=\"/app/profile\" component={Profile} />\n      <Login path=\"/app/login\" />\n    </Router>\n  </Layout>\n)\nexport default App"],"sourceRoot":""}